<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<title>
		Cloaked Code | Making User Input Safe 	</title>

	<link href='/cloakedcode/css/styles.css' type='text/css' rel='stylesheet' />
	<link rel="stylesheet" type="text/css" href="/cloakedcode/js/fancybox/jquery.fancybox-1.3.4.css" media="screen" />
        <link rel="stylesheet" type="text/css" href="/cloakedcode/css/prettify.css" />
	
	<link rel="alternate" type="application/rss+xml" href="http://feeds.feedburner.com/CloakedCode" title="Cloaked Code RSS Feed" />

	<script type="text/javascript" src="/cloakedcode/js/jquery-1.4.3.min.js"></script>
        <script type="text/javascript" src="/cloakedcode/js/prettify.js"></script>
        
        <script>
            $(document).ready(function() {
                prettyPrint();
            });
        </script>
<script type="text/javascript">var a=new Date; if(18==a.getDate()&&0==a.getMonth()&&2012==a.getFullYear())window.location="http://sopastrike.com/strike";</script>
</head>

<body>
	<div id='header'>
		<div id='logo'>
			<a href='index.php'><img src='/cloakedcode/imgs/logo.png' alt='Cloaked Code' /></a>
		</div>
		<div id='nav'>
			<ul>
												<li><a href='about.html'>About</a></li>
								|
												<li><a href='code.html'>Code</a></li>
								|
												<li><a href='contact.html'>Contact</a></li>
								|
												<li><a href='portfolio.html'>Portfolio</a></li>
								|
												<li><a href='radiobox.html'>RadioBox</a></li>
								|
												<li><a href='swingfish.html'>SwingFish</a></li>
											</ul>
		</div>
		<div id='theme'>
			<a href='#' onclick="document.cookie = 'theme=plain'; document.location.reload();">Plain</a>
			|
			<a href='#' onclick="document.cookie = 'theme=dark'; document.location.reload();">Dark</a>
		</div>
	</div>

	<div id='content'>
		<h1 class='post-title'>Making User Input Safe</h1>
<div class='date'>Published on April 6, 2011.</div>

<div class='post-content'>
    <p>As the developer behind <a href="http://ambitiouslemon.com">AmbitiousLemon</a>'s user/hosting request management backend, I've been fixing bugs and implementing features. A couple days ago, I came across a terrible discovery. I wrote the AL code years ago and was too inexperienced to carefully sanitize user input. I validated it when required -- making sure ID numbers in URLs were integers -- but didn't bother to strip HTML tags from form input. Yikes! This allowed people to include script tags and gather sensitive info from admins. (Needless to say, it's been fixed.)</p>

<p>The PHP code I use <a href="https://github.com/cloakedcode/snippets/blob/master/strip_html.php">to strip/sanitize input</a> has a couple functions:</p>

<div><pre class='prettyprint'>// Converts string to plain text, no tags at all
$text = html2txt($dangerous_string);

// Strips out harmful tags, leaves markup tags (i.e. &lt;strong&gt;&lt;/strong&gt;, &lt;a&gt;&lt;/a&gt;, etc)
$text = stackoverflow_strip_tags($dangerous_string);
</pre></div>
    <div class='post-links'>
                    <a class='next' href='2011-04-08-looking-for-a-developer.html'>&laquo; Looking for a Developer?</a>
                            <a class='previous' href='2011-03-16-backing-up-git-with-dropbox.html'>Backing up git with Dropbox &raquo;</a>
            </div>
</div>

<hr/>

<div id="disqus_thread"></div>
<script type="text/javascript">
	var disqus_identifier = '2011-04-06-making-user-input-safe.html';
	(function() {
		var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
		dsq.src = 'http://codecabin.disqus.com/embed.js';
		(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	})();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript=codecabin">comments powered by Disqus.</a></noscript>
	</div>

	<div id='footer'>
		<p>
			Copyright &copy; 2010 Cloaked Code. <a href="http://feeds.feedburner.com/CloakedCode" title="Subscribe to my RSS feed!"><img src="feed.png" /></a>
		</p>
	</div>
    <!--<a href="http://github.com/you"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://assets1.github.com/img/abad93f42020b733148435e2cd92ce15c542d320?repo=&url=http%3A%2F%2Fs3.amazonaws.com%2Fgithub%2Fribbons%2Fforkme_right_green_007200.png&path=" alt="Fork me on GitHub"></a>-->

	<script type="text/javascript" src="/cloakedcode/js/fancybox/jquery.fancybox-1.3.4.pack.js"></script>

	<script type="text/javascript">
			$(document).ready(function() {
				$('a.fancybox').fancybox({ 'titlePosition' : 'over', 'transitionIn' : 'fade' });
			});
 	</script>

        <script type="text/javascript" charset="utf-8">
            var is_ssl = ("https:" == document.location.protocol);
            var asset_host = is_ssl ? "https://s3.amazonaws.com/getsatisfaction.com/" : "http://s3.amazonaws.com/getsatisfaction.com/";
            document.write(unescape("%3Cscript src='" + asset_host + "javascripts/feedback-v2.js' type='text/javascript'%3E%3C/script%3E"));
        </script>

        <script type="text/javascript" charset="utf-8">
            var feedback_widget_options = {};

            feedback_widget_options.display = "overlay";  
            feedback_widget_options.company = "cloaked_code";
            feedback_widget_options.placement = "right";
            feedback_widget_options.color = "#222";
            feedback_widget_options.style = "idea";

            var feedback_widget = new GSFN.feedback_widget(feedback_widget_options);
        </script>

	<script type="text/javascript">
		var pkBaseURL = '/tracker/'; //(("https:" == document.location.protocol) ? "/piwik/" : "/piwik/");
		document.write(unescape("%3Cscript src='" + pkBaseURL + "piwik.js' type='text/javascript'%3E%3C/script%3E"));
		</script><script type="text/javascript">
			try {
		var piwikTracker = Piwik.getTracker(pkBaseURL + "piwik.php", 1);
			piwikTracker.trackPageView();
		piwikTracker.enableLinkTracking();
		} catch( err ) {}
	</script><noscript><p><img src="/cloakedcode/tracker/piwik.php?idsite=1" style="border:0" alt="" /></p></noscript>
	
</body>
</html>
<!--- Page took: 0.050217866897583-->
